---

kind: pipeline
name: test

steps:
- name: test
  image: node:latest
  commands:
  - echo test
  - npm install
  - npm run test:unit
  when:
    branch:
    - main
    event:
    - push
    - pull-request

volumes:
- name: cache
  host:
    path: /tmp/drone/cache/vendor
  
---

# kind: pipeline
# type: exec
# name: staging

# trigger:
#   branch:
#   - main
#   event:
#   - push
# depends_on:
# - test

# platform:
#   os: linux
#   arch: amd64

# steps:
# - name: publish
#   commands:
#   - cd ~/Development/personal/blogsite
#   - 